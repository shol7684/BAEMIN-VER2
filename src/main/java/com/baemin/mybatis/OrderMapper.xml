<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="order">

	<select id="foodPriceList" resultType="long">
		<foreach collection="list" item="item"  separator="union all" >
			select sum(food_price) sum from bm_food where id = #{item.foodId}
		</foreach>
	</select>
	
	<select id="optionPriceList" resultType="int">
		
		<foreach collection="list" item="item"  separator="union all" >
			<if test="item.foodOptionId == null">
				select 0 from dual 
			</if>
			
			<if test="item.foodOptionId != null">
				select sum(option_price) sum from bm_food_option where id in
				<foreach collection="item.foodOptionId" item="i" open="(" close=")" separator="," >
					#{i}
				</foreach>
			</if>
			
		</foreach>
		
	</select>
	
	
	
</mapper>
